// Voltage curves at different currents based on product data sheet
// from https://www.molicel.com/wp-content/uploads/INR21700P42A-V4-80092.pdf
typedef struct {
  float current;
  float voltage[]; // voltage[i] corresponds to discharge = i * 50 (mAh)
} VoltageCurve;

const VoltageCurve VOLTAGE_CURVES[] = {
    {0.84, {
        4.1746144, 4.129601, 4.1050863, 4.0857577, 4.077724, 4.0685687,
        4.064714, 4.056633, 4.0552087, 4.055017, 4.0469356, 4.0469356,
        4.042087, 4.0357985, 4.030712, 4.0195327, 4.0156155, 3.9969745,
        3.9816196, 3.9587073, 3.948181, 3.9325078, 3.924103, 3.911155,
        3.897928, 3.8837006, 3.87562, 3.867713, 3.857877, 3.8497498,
        3.8340952, 3.8255184, 3.8119152, 3.80546, 3.7931652, 3.7785158,
        3.7689712, 3.7608678, 3.7512062, 3.7349863, 3.7272768, 3.7122865,
        3.7043037, 3.6949084, 3.6784623, 3.670328, 3.6545455, 3.6460936,
        3.6355476, 3.6283426, 3.6202934, 3.6121814, 3.6047, 3.5960193,
        3.5862072, 3.57892, 3.5723896, 3.5621874, 3.5515337, 3.537837,
        3.5297542, 3.5216837, 3.5057023, 3.494145, 3.481332, 3.4650154,
        3.4535213, 3.4392476, 3.424676, 3.4166222, 3.406926, 3.3977017,
        3.3859127, 3.367578, 3.3354974, 3.3067477, 3.269035, 3.233233,
        3.1855989, 3.1283264, 3.0746572, 3.0079076, 2.935368, 2.8415823,
        2.6789198
    }},
    {4.2, {
        4.1164317, 4.0588408, 4.0305204, 4.0125675, 3.9968245, 3.9968238, 
        3.9823055, 3.9766607, 3.9766607, 3.9677424, 3.9645758, 3.9612777, 
        3.9612777, 3.9529183, 3.9418828, 3.9321654, 3.9268913, 3.9071343, 
        3.891789, 3.8756242, 3.8659148, 3.8509874, 3.8420107, 3.829988, 
        3.8176718, 3.8061042, 3.7971275, 3.7881508, 3.7705674, 3.7705674, 
        3.767335, 3.749557, 3.7443159, 3.7306695, 3.7253141, 3.7073607, 
        3.6983843, 3.689573, 3.6714542, 3.6624775, 3.6524806, 3.6445243, 
        3.626571, 3.6175942, 3.5996408, 3.5927868, 3.5879018, 3.5733933, 
        3.5636306, 3.552243, 3.5427706, 3.5283515, 3.5216744, 3.5168397, 
        3.5071297, 3.492583, 3.484476, 3.4808502, 3.472109, 3.4521806, 
        3.4473376, 3.4408634, 3.4360166, 3.4264388, 3.4093611, 3.398861, 
        3.38599, 3.384201, 3.3662477, 3.3503585, 3.3503585, 3.3419952, 
        3.3213644, 3.3117821, 3.2858427, 3.256723, 3.218311, 3.1882393, 
        3.1403384, 3.085144, 3.0270107, 2.9308786, 2.8269744, 2.6391382, 
        2.3249552
    }},
    {10, {
        4.021544, 3.937097, 3.91284, 3.8982913, 3.8898132, 3.8852828, 
        3.8788521, 3.876952, 3.8705826, 3.8691893, 3.8626902, 3.859458, 
        3.852993, 3.846527, 3.8432128, 3.8322246, 3.8240573, 3.8075285, 
        3.7984154, 3.785114, 3.7718325, 3.7592669, 3.7446897, 3.7320395, 
        3.7163374, 3.7107694, 3.7022507, 3.6930342, 3.6816804, 3.6748397, 
        3.6647232, 3.6542938, 3.6445243, 3.6366048, 3.6218748, 3.6119523, 
        3.6015162, 3.5879357, 3.5782738, 3.5686371, 3.5547576, 3.5393915, 
        3.5297632, 3.5167475, 3.5055048, 3.4908752, 3.481271, 3.4715717, 
        3.461801, 3.452213, 3.439249, 3.4278316, 3.4198546, 3.4118223, 
        3.4020767, 3.3956628, 3.3874347, 3.3778198, 3.3688047, 3.3584354, 
        3.3487458, 3.3383005, 3.3292768, 3.3196783, 3.312019, 3.296985, 
        3.2873223, 3.2773812, 3.2634811, 3.2469163, 3.2388206, 3.2198048, 
        3.2077317, 3.183698, 3.1611385, 3.132227, 3.1001198, 3.0654805, 
        3.0111265, 2.9529216, 2.881508, 2.7997704, 2.6882768, 2.5103097
    }},
    {20, {
        3.852993, 3.775158, 3.744758, 3.7350113, 3.7285466, 3.72854, 
        3.7204657, 3.7204657, 3.7207043, 3.7188494, 3.7107677, 3.7075791, 
        3.7075343, 3.7026875, 3.6946077, 3.6899178, 3.678311, 3.6703641, 
        3.66067, 3.6541235, 3.6380396, 3.6283426, 3.6186485, 3.605716, 
        3.5952039, 3.5847173, 3.5752053, 3.564258, 3.5540614, 3.5475338, 
        3.5378373, 3.528076, 3.5169456, 3.5076632, 3.4973578, 3.4846323, 
        3.4739864, 3.4635506, 3.448868, 3.440853, 3.4298346, 3.4150314, 
        3.4045706, 3.392419, 3.3826787, 3.3729918, 3.360417, 3.3503585, 
        3.336853, 3.3332775, 3.322917, 3.3134315, 3.301752, 3.2921739, 
        3.2824845, 3.2759678, 3.2681108, 3.2598548, 3.2501547, 3.2436962, 
        3.233997, 3.2244403, 3.2131405, 3.20312, 3.194052, 3.1855073, 
        3.1758103, 3.1677964, 3.1531954, 3.1417575, 3.1273284, 3.1111548, 
        3.096621, 3.0721636, 3.0486014, 3.0207028, 2.9880097, 2.956401, 
        2.9111023, 2.8618124, 2.8022275, 2.728905, 2.6301615, 2.4685817
    }},
    {30, {
        3.7204657, 3.619926, 3.5960522, 3.587938, 3.586322, 3.586322, 
        3.586322, 3.586322, 3.5906644, 3.586322, 3.5798573, 3.5798569, 
        3.5750086, 3.5717764, 3.5636954, 3.558968, 3.5568585, 3.5459173, 
        3.537837, 3.529765, 3.5216742, 3.5119746, 3.5022857, 3.4893508, 
        3.4805644, 3.47158, 3.4580796, 3.4473636, 3.4392488, 3.4311678, 
        3.4168158, 3.4133122, 3.400481, 3.3914967, 3.3826516, 3.3713946, 
        3.3584738, 3.3487375, 3.3405216, 3.3276732, 3.32171, 3.3083696, 
        3.2961507, 3.2840946, 3.2760134, 3.2664099, 3.253803, 3.2436764, 
        3.231598, 3.2277014, 3.2178311, 3.2081788, 3.1968985, 3.1920352, 
        3.182406, 3.176502, 3.1658943, 3.1613383, 3.15141, 3.143487, 
        3.1355228, 3.1273243, 3.1192489, 3.1076612, 3.096152, 3.08692, 
        3.0787444, 3.0652418, 3.0528855, 3.0367794, 3.0188894, 3.0065687, 
        2.9867172, 2.9641163, 2.9429958, 2.905992, 2.8766382, 2.8398225, 
        2.7962463, 2.7378814, 2.6820629, 2.5946772, 2.4775584
    }}
}
